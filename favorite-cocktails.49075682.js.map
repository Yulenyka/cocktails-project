{"mappings":"gfACA,IAAAA,EAAAC,EAAA,SACMC,EAAUC,SAASC,cAAc,YACTD,SAASC,cACrC,8BAWK,SAASC,EAAgBC,GAC9B,IAAIC,EAAoBC,KAAKC,MAAMC,aAAaC,QAAQX,EAAAY,gBAAkB,GAG1E,GAFAC,QAAQC,IAAIP,GAERG,aAAaC,QAAQX,EAAAY,eAAiBL,EAAkBQ,OAAS,EAAG,CACtE,IAAMC,EAAkBT,EACrBU,KAAI,SAAAC,G,IAAGC,EAAQD,EAARC,SAAUC,EAAaF,EAAbE,cAAeC,EAAOH,EAAPG,QAASC,EAAaJ,EAAbI,cAExC,OADAT,QAAQC,IAAIQ,GACL,kFAC2DC,OAAvBH,EAAc,WACnBG,OAD4BJ,EAAS,0DAQRI,OAP7BJ,EAAS,wWAO4BI,OAARF,EAAQ,gI,IAM5EG,KAAK,IACRlB,EAAQmB,UAAYT,EAECb,SAASuB,iBAAiB,kBAClCC,SAAQ,SAAAC,GACnBf,QAAQC,IAAIc,GACZA,EAAKC,iBAAiB,QAASC,E,QAE5B,CAOLxB,EAAQmB,UANiB,sI,EAU7B,IAAMK,EAAqB,SAAAC,GACzB,IAAIxB,EAAoBC,KAAKC,MAAMC,aAAaC,QAAQX,EAAAY,eACxDL,EAAoBA,EAAkByB,QACpC,SAAAJ,G,OAAQA,EAAKP,UAAYU,EAAEE,OAAOC,QAAQC,E,IAE5CtB,QAAQC,IAAIP,GACZG,aAAa0B,QAAQpC,EAAAY,aAAcJ,KAAK6B,UAAU9B,IAClDF,EAAgBH,E,EAElBG,EAAgBH,E","sources":["src/js/favoritecocktails.js"],"sourcesContent":["// import ApiService from './apiservice';\nimport Render, { FAVORITE_KEY } from './render';\nconst gallery = document.querySelector('.gallery');\nconst galleryCocktailsTitle = document.querySelector(\n  '.favorite-cocktails__title'\n);\n// const buttonMore = document.querySelector('.button-more');\n// let apiService = new ApiService();\n// let render = new Render();\n\n// apiService.getCocktailRandom(3).then(data => {\n//   localStorage.setItem(FAVORITE_KEY, JSON.stringify(data));\n//   showAllCoctails(gallery); // удалить до пуша\n// });\n\nexport function showAllCoctails(gallery) {\n  let favoriteCocktails = JSON.parse(localStorage.getItem(FAVORITE_KEY)) || [];\n  console.log(favoriteCocktails);\n\n  if (localStorage.getItem(FAVORITE_KEY) && favoriteCocktails.length > 0) {\n    const markupCocktails = favoriteCocktails\n      .map(({ strDrink, strDrinkThumb, idDrink, strIngredient }) => {\n        console.log(strIngredient);\n        return `<li class=\"cocktails__item\">\n                <img class=\"cocktails__img\" src=\"${strDrinkThumb}\" alt=\"${strDrink} photo\">\n                <h3 class=\"cocktails__name\">${strDrink}</h3>\n                <ul class=\"button-list\">\n                    <li class=\"button__item\">\n                        <button class=\"button-more\" type=\"submit\">Learn more\n                        </button>\n                    </li>\n                  <li class=\"button__item\">\n                    <button class='button-remove' type=\"button\" data-id=\"${idDrink}\" data-action=\"favorite\">Remove</button>\n                  </li>\n                </ul>\n              </li>\n              `;\n      })\n      .join('');\n    gallery.innerHTML = markupCocktails;\n\n    const buttonRemove = document.querySelectorAll('.button-remove');\n    buttonRemove.forEach(elem => {\n      console.log(elem);\n      elem.addEventListener('click', removeFromFavorite);\n    });\n  } else {\n    const markupCocktails = `<li>\n    <p class=\"no__favorite-cocktails\">\n      You haven't added any <br />\n      favorite cocktails yet\n    </p>\n    </li>`;\n    gallery.innerHTML = markupCocktails;\n  }\n}\n\nconst removeFromFavorite = e => {\n  let favoriteCocktails = JSON.parse(localStorage.getItem(FAVORITE_KEY));\n  favoriteCocktails = favoriteCocktails.filter(\n    elem => elem.idDrink !== e.target.dataset.id\n  );\n  console.log(favoriteCocktails);\n  localStorage.setItem(FAVORITE_KEY, JSON.stringify(favoriteCocktails));\n  showAllCoctails(gallery);\n};\nshowAllCoctails(gallery);\n"],"names":["$lF0Zg","parcelRequire","$8594b32f57d532e3$var$gallery","document","querySelector","$8594b32f57d532e3$export$1fe49417ecbe7237","gallery1","favoriteCocktails","JSON","parse","localStorage","getItem","FAVORITE_KEY","console","log","length","markupCocktails","map","param","strDrink","strDrinkThumb","idDrink","strIngredient","concat","join","innerHTML","querySelectorAll","forEach","elem","addEventListener","$8594b32f57d532e3$var$removeFromFavorite","e","filter","target","dataset","id","setItem","stringify"],"version":3,"file":"favorite-cocktails.49075682.js.map"}