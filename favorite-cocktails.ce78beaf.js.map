{"mappings":"gfACA,IAAAA,EAAAC,EAAA,S,aAEMC,EAAUC,SAASC,cAAc,YACTD,SAASC,cACrC,8BAEuBD,SAASC,cAAc,sBAUzC,SAASC,EAAgBC,GAC9B,IAAIC,EAAoBC,KAAKC,MAAMC,aAAaC,QAAQX,EAAAY,gBAAkB,GAG1E,GAAIF,aAAaC,QAAQX,EAAAY,eAAiBL,EAAkBM,OAAS,EAAG,CACtE,IAAMC,EAAkBP,EACrBQ,KAAI,SAAAC,G,IAAGC,EAAQD,EAARC,SAAUC,EAAaF,EAAbE,cAAeC,EAAOH,EAAPG,QAE/B,MAAO,kFAC2DC,OAAvBF,EAAc,WACnBE,OAD4BH,EAAS,0DAING,OAH/BH,EAAS,+KAOoBG,OAJED,EAAQ,wMAIFC,OAARD,EAAQ,gI,IAM5EE,KAAK,IACRf,EAAQgB,UAAYR,EAEDX,SAASoB,iBAAiB,gBAClCC,SAAQ,SAAAC,GAEjBA,EAAKC,iBAAiB,SAAS,SAAAC,GAC7B,IAAIC,EAAWrB,EAAkBsB,MAC/B,SAAAC,G,OAAQA,EAAKX,UAAYQ,EAAEI,OAAOC,QAAQC,E,KAG5C,EAAAC,EAAAC,qBAAoBP,IACpB,EAAAM,EAAAE,oB,OAGiBjC,SAASoB,iBAAiB,kBAClCC,SAAQ,SAAAM,GAEnBA,EAAKJ,iBAAiB,QAASW,E,QAE5B,CAOL/B,EAAQgB,UANiB,sI,EAU7B,IAAMe,EAAqB,SAAAV,GACzB,IAAIpB,EAAoBC,KAAKC,MAAMC,aAAaC,QAAQX,EAAAY,eACxDL,EAAoBA,EAAkB+B,QACpC,SAAAR,G,OAAQA,EAAKX,UAAYQ,EAAEI,OAAOC,QAAQC,E,IAE5CM,QAAQC,IAAIjC,GACZG,aAAa+B,QAAQzC,EAAAY,aAAcJ,KAAKkC,UAAUnC,IAClDF,EAAgBH,E,EAElBG,EAAgBH,E","sources":["src/js/favoritecocktails.js"],"sourcesContent":["// import ApiService from './apiservice';\nimport Render, { FAVORITE_KEY } from './render';\nimport { openModalCocktail, renderModalCocktail } from './modalcocktail';\nconst gallery = document.querySelector('.gallery');\nconst galleryCocktailsTitle = document.querySelector(\n  '.favorite-cocktails__title'\n);\nconst messageCocktails = document.querySelector('.message-cocktails');\n// const buttonMore = document.querySelector('.button-more');\n// let apiService = new ApiService();\n// let render = new Render();\n\n// apiService.getCocktailRandom(3).then(data => {\n//   localStorage.setItem(FAVORITE_KEY, JSON.stringify(data));\n//   showAllCoctails(gallery); // удалить до пуша\n// });\n\nexport function showAllCoctails(gallery) {\n  let favoriteCocktails = JSON.parse(localStorage.getItem(FAVORITE_KEY)) || [];\n  // console.log(favoriteCocktails);\n\n  if (localStorage.getItem(FAVORITE_KEY) && favoriteCocktails.length > 0) {\n    const markupCocktails = favoriteCocktails\n      .map(({ strDrink, strDrinkThumb, idDrink }) => {\n        // console.log(strIngredient);\n        return `<li class=\"cocktails__item\">\n                <img class=\"cocktails__img\" src=\"${strDrinkThumb}\" alt=\"${strDrink} photo\">\n                <h3 class=\"cocktails__name\">${strDrink}</h3>\n                <ul class=\"button-list\">\n                    <li class=\"button__item\">\n                        <button class=\"button-more\" type=\"button\" data-id=\"${idDrink}\">Learn more\n                        </button>\n                    </li>\n                  <li class=\"button__item\">\n                    <button class='button-remove' type=\"button\" data-id=\"${idDrink}\" data-action=\"favorite\">Remove</button>\n                  </li>\n                </ul>\n              </li>\n              `;\n      })\n      .join('');\n    gallery.innerHTML = markupCocktails;\n\n    const buttonMore = document.querySelectorAll('.button-more');\n    buttonMore.forEach(elem => {\n      // console.log(elem);\n      elem.addEventListener('click', e => {\n        let cocktail = favoriteCocktails.find(\n          elem => elem.idDrink === e.target.dataset.id\n        );\n        // console.log(cocktail);\n        renderModalCocktail(cocktail);\n        openModalCocktail();\n      });\n    });\n    const buttonRemove = document.querySelectorAll('.button-remove');\n    buttonRemove.forEach(elem => {\n      // console.log(elem);\n      elem.addEventListener('click', removeFromFavorite);\n    });\n  } else {\n    const markupCocktails = `<li>\n    <p class=\"no__favorite-cocktails\">\n      You haven't added any <br />\n      favorite cocktails yet\n    </p>\n    </li>`;\n    gallery.innerHTML = markupCocktails;\n  }\n}\n\nconst removeFromFavorite = e => {\n  let favoriteCocktails = JSON.parse(localStorage.getItem(FAVORITE_KEY));\n  favoriteCocktails = favoriteCocktails.filter(\n    elem => elem.idDrink !== e.target.dataset.id\n  );\n  console.log(favoriteCocktails);\n  localStorage.setItem(FAVORITE_KEY, JSON.stringify(favoriteCocktails));\n  showAllCoctails(gallery);\n};\nshowAllCoctails(gallery);\n"],"names":["$lF0Zg","parcelRequire","$8594b32f57d532e3$var$gallery","document","querySelector","$8594b32f57d532e3$export$1fe49417ecbe7237","gallery1","favoriteCocktails","JSON","parse","localStorage","getItem","FAVORITE_KEY","length","markupCocktails","map","param","strDrink","strDrinkThumb","idDrink","concat","join","innerHTML","querySelectorAll","forEach","elem1","addEventListener","e","cocktail","find","elem","target","dataset","id","$6khcg","renderModalCocktail","openModalCocktail","$8594b32f57d532e3$var$removeFromFavorite","filter","console","log","setItem","stringify"],"version":3,"file":"favorite-cocktails.ce78beaf.js.map"}