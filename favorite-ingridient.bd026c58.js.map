{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAqBC,SAASC,cAAc,8BAIlD,IAAIC,EAAa,IAAI,EAAAL,EAAAM,SAGrBD,EAAWE,kBAAkB,IAAIC,MAAKC,IAGpCC,aAAaC,QALM,qBAKgBC,KAAKC,UAAUJ,IAClDK,QAAQC,IAAIN,EAAK,IAGnB,MAAMO,EAAqBC,IACzB,IAAIC,EAAsBN,KAAKO,MAAMT,aAAaU,QAV/B,uBAWnBF,EAAsBA,EAAoBG,QACxCC,GAAQA,EAAKC,eAAiBN,EAAEO,OAAOC,QAAQC,KAEjDhB,aAAaC,QAdM,qBAcgBC,KAAKC,UAAUK,IAClDS,EAAgBzB,EAAmB,EAI9B,SAASyB,EAAgBC,GAC9B,IAAIV,EAAsBN,KAAKO,MAAMT,aAAaU,QApB/B,uBAqBnB,GAAIV,aAAaU,QArBE,uBAqBuBF,EAAoBW,OAAS,EAAG,CACxE,MAAMC,EAAoBZ,EACvBa,KAAI,EAACC,cAAEA,EAAaC,QAAEA,EAAOC,WAAEA,EAAUX,aAAEA,KAEnC,+EACuBS,iDAFnBC,GAAoBC,uQAS0BX,qFAK1DY,KAAK,IACRP,EAAmBQ,UAAYN,EACV3B,SAASkC,iBAAiB,kBAClCC,SAAQhB,IACnBR,QAAQC,IAAIO,GACZA,EAAKiB,iBAAiB,QAASvB,EAAmB,G,KAE/C,CACL,MAAMc,EAAoB,6HAI1BF,EAAmBQ,UAAYN,C,EAjCnCH,EAAgBzB,GAqChByB,EAAgBzB","sources":["src/js/favoritingridient.js"],"sourcesContent":["import ApiService from './apiservice';\nconst galleryIngridients = document.querySelector('.favorite-ingridient__list');\n// const galleryIngridientsTitle = document.querySelector(\n//   '.favorite-ingridient__title'\n// );\nlet apiService = new ApiService();\nconst FAVORITE_KEY = 'favoriteIngridient';\n\napiService.getCocktailIngrId(25).then(resp => {\n  // возвращает ингридиет по id.\n  // возвращает пустой массив, если ничего не найдено\n  localStorage.setItem(FAVORITE_KEY, JSON.stringify(resp));\n  console.log(resp);\n});\n\nconst removeFromFavorite = e => {\n  let favoriteIngridients = JSON.parse(localStorage.getItem(FAVORITE_KEY));\n  favoriteIngridients = favoriteIngridients.filter(\n    elem => elem.idIngredient !== e.target.dataset.id\n  );\n  localStorage.setItem(FAVORITE_KEY, JSON.stringify(favoriteIngridients));\n  showIngridients(galleryIngridients);\n};\nshowIngridients(galleryIngridients);\n\nexport function showIngridients(galleryIngridients) {\n  let favoriteIngridients = JSON.parse(localStorage.getItem(FAVORITE_KEY));\n  if (localStorage.getItem(FAVORITE_KEY) && favoriteIngridients.length > 0) {\n    const markupIngridients = favoriteIngridients\n      .map(({ strIngredient, strType, strAlcohol, idIngredient }) => {\n        let text = strType ? strType : strAlcohol;\n        return `<li class=\"favorite-ingridient__item\">\n      <h3 class=\"drink__ingridient\">${strIngredient}</h3>\n      <p class=\"drink__type\">Alcohol: ${text}</p>\n      <ul class=\"button-list\">\n        <li class=\"button__item\">\n          <button class=\"button-more\" type=\"submit\">Learn more</button>\n        </li>\n        <li class=\"button__item\">\n          <button class='button-remove' type=\"button\" data-id=\"${idIngredient}\" data-action=\"favorite\">Remove</button>\n        </li>\n      </ul>\n    </li>`;\n      })\n      .join('');\n    galleryIngridients.innerHTML = markupIngridients;\n    const buttonRemove = document.querySelectorAll('.button-remove');\n    buttonRemove.forEach(elem => {\n      console.log(elem);\n      elem.addEventListener('click', removeFromFavorite);\n    });\n  } else {\n    const markupIngridients = `<li><p class=\"no__favorite-cocktails\">\n      You haven't added any <br />\n      favorite ingridients yet\n    </p></li>`;\n    galleryIngridients.innerHTML = markupIngridients;\n  }\n}\n\nshowIngridients(galleryIngridients);\n"],"names":["$bwowl","parcelRequire","$dad53b6aee4a2bff$var$galleryIngridients","document","querySelector","$dad53b6aee4a2bff$var$apiService","default","getCocktailIngrId","then","resp","localStorage","setItem","JSON","stringify","console","log","$dad53b6aee4a2bff$var$removeFromFavorite","e","favoriteIngridients","parse","getItem","filter","elem","idIngredient","target","dataset","id","$dad53b6aee4a2bff$export$6315001ff3ec5747","galleryIngridients1","length","markupIngridients","map","strIngredient","strType","strAlcohol","join","innerHTML","querySelectorAll","forEach","addEventListener"],"version":3,"file":"favorite-ingridient.bd026c58.js.map"}