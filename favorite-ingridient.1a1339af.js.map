{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SACMC,EAAqBC,SAASC,cAAc,8BAK5CC,GAJ0BF,SAASC,cACvC,+BAEe,IAAI,EAAAJ,EAAAM,SACA,sBASfC,EAAqB,SAAAC,GACzB,IAAIC,EAAsBC,KAAKC,MAAMC,aAAaC,QAAQR,IAC1DI,EAAsBA,EAAoBK,QACxC,SAAAC,G,OAAQA,EAAKC,eAAiBR,EAAES,OAAOC,QAAQC,E,IAEjDP,aAAaQ,QAAQf,EAAcK,KAAKW,UAAUZ,IAClDa,EAAgBpB,E,EAIX,SAASoB,EAAgBC,GAC9B,IAAId,EAAsBC,KAAKC,MAAMC,aAAaC,QAAQR,IAC1D,GAAII,EAAoBe,OAAS,EAAG,CAClC,IAAMC,EAAoBhB,EACvBiB,KAAI,SAAAC,G,IAAGC,EAAaD,EAAbC,cAAeC,EAAOF,EAAPE,QAASC,EAAUH,EAAVG,WAAYd,EAAYW,EAAZX,aACtCe,EAAOF,GAAoBC,EAC/B,MAAO,+EAEyBE,OADFJ,EAAc,iDAOaI,OANzBD,EAAK,yQAMiCC,OAAbhB,EAAa,kF,IAKvEiB,KAAK,IACRV,EAAmBW,UAAYT,EACVtB,SAASgC,iBAAiB,kBAClCC,SAAQ,SAAArB,GACnBsB,QAAQC,IAAIvB,GACZA,EAAKwB,iBAAiB,QAAShC,E,QAE5B,CAKLgB,EAAmBW,UAJQ,4H,EA7B/BZ,EAAgBpB,GAqChBoB,EAAgBpB,E","sources":["src/js/favoritingridient.js"],"sourcesContent":["import ApiService from './apiservice';\nconst galleryIngridients = document.querySelector('.favorite-ingridient__list');\nconst galleryIngridientsTitle = document.querySelector(\n  '.favorite-ingridient__title'\n);\nlet apiService = new ApiService();\nconst FAVORITE_KEY = 'favoriteIngridient';\n\n// apiService.getCocktailIngrId(25).then(resp => {\n//   // возвращает ингридиет по id.\n//   // возвращает пустой массив, если ничего не найдено\n//   localStorage.setItem(FAVORITE_KEY, JSON.stringify(resp));\n//   console.log(resp);\n// });\n\nconst removeFromFavorite = e => {\n  let favoriteIngridients = JSON.parse(localStorage.getItem(FAVORITE_KEY));\n  favoriteIngridients = favoriteIngridients.filter(\n    elem => elem.idIngredient !== e.target.dataset.id\n  );\n  localStorage.setItem(FAVORITE_KEY, JSON.stringify(favoriteIngridients));\n  showIngridients(galleryIngridients);\n};\nshowIngridients(galleryIngridients);\n\nexport function showIngridients(galleryIngridients) {\n  let favoriteIngridients = JSON.parse(localStorage.getItem(FAVORITE_KEY));\n  if (favoriteIngridients.length > 0) {\n    const markupIngridients = favoriteIngridients\n      .map(({ strIngredient, strType, strAlcohol, idIngredient }) => {\n        let text = strType ? strType : strAlcohol;\n        return `<li class=\"favorite-ingridient__item\">\n      <h3 class=\"drink__ingridient\">${strIngredient}</h3>\n      <p class=\"drink__type\">Alcohol: ${text}</p>\n      <ul class=\"button-list\">\n        <li class=\"button__item\">\n          <button class=\"button-more\" type=\"submit\">Learn more</button>\n        </li>\n        <li class=\"button__item\">\n          <button class='button-remove' type=\"button\" data-id=\"${idIngredient}\" data-action=\"favorite\">Remove</button>\n        </li>\n      </ul>\n    </li>`;\n      })\n      .join('');\n    galleryIngridients.innerHTML = markupIngridients;\n    const buttonRemove = document.querySelectorAll('.button-remove');\n    buttonRemove.forEach(elem => {\n      console.log(elem);\n      elem.addEventListener('click', removeFromFavorite);\n    });\n  } else {\n    const markupIngridients = `<li><p class=\"no__favorite-cocktails\">\n      You haven't added any <br />\n      favorite ingridients yet\n    </p></li>`;\n    galleryIngridients.innerHTML = markupIngridients;\n  }\n}\n\nshowIngridients(galleryIngridients);\n"],"names":["$5d35N","parcelRequire","$1af32e5bea419f78$var$galleryIngridients","document","querySelector","$1af32e5bea419f78$var$FAVORITE_KEY","default","$1af32e5bea419f78$var$removeFromFavorite","e","favoriteIngridients","JSON","parse","localStorage","getItem","filter","elem","idIngredient","target","dataset","id","setItem","stringify","$1af32e5bea419f78$export$6315001ff3ec5747","galleryIngridients1","length","markupIngridients","map","param","strIngredient","strType","strAlcohol","text","concat","join","innerHTML","querySelectorAll","forEach","console","log","addEventListener"],"version":3,"file":"favorite-ingridient.1a1339af.js.map"}