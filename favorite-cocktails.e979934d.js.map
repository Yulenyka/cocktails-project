{"mappings":"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","sources":["src/js/favoritecocktails.js","src/js/modalcocktail.js"],"sourcesContent":["// import ApiService from './apiservice';\nimport Render, { FAVORITE_KEY } from './render';\nimport { openModalCocktail, renderModalCocktail } from './modalcocktail';\nconst gallery = document.querySelector('.gallery');\nconst galleryCocktailsTitle = document.querySelector(\n  '.favorite-cocktails__title'\n);\n// const buttonMore = document.querySelector('.button-more');\n// let apiService = new ApiService();\n// let render = new Render();\n\n// apiService.getCocktailRandom(3).then(data => {\n//   localStorage.setItem(FAVORITE_KEY, JSON.stringify(data));\n//   showAllCoctails(gallery); // удалить до пуша\n// });\n\nexport function showAllCoctails(gallery) {\n  let favoriteCocktails = JSON.parse(localStorage.getItem(FAVORITE_KEY)) || [];\n  // console.log(favoriteCocktails);\n\n  if (localStorage.getItem(FAVORITE_KEY) && favoriteCocktails.length > 0) {\n    const markupCocktails = favoriteCocktails\n      .map(({ strDrink, strDrinkThumb, idDrink, strIngredient }) => {\n        // console.log(strIngredient);\n        return `<li class=\"cocktails__item\">\n                <img class=\"cocktails__img\" src=\"${strDrinkThumb}\" alt=\"${strDrink} photo\">\n                <h3 class=\"cocktails__name\">${strDrink}</h3>\n                <ul class=\"button-list\">\n                    <li class=\"button__item\">\n                        <button class=\"button-more\" type=\"button\" data-id=\"${idDrink}\">Learn more\n                        </button>\n                    </li>\n                  <li class=\"button__item\">\n                    <button class='button-remove' type=\"button\" data-id=\"${idDrink}\" data-action=\"favorite\">Remove</button>\n                  </li>\n                </ul>\n              </li>\n              `;\n      })\n      .join('');\n    gallery.innerHTML = markupCocktails;\n\n    const buttonMore = document.querySelectorAll('.button-more');\n    buttonMore.forEach(elem => {\n      // console.log(elem);\n      elem.addEventListener('click', e => {\n        let cocktail = favoriteCocktails.find(\n          elem => elem.idDrink === e.target.dataset.id\n        );\n        // console.log(cocktail);\n        renderModalCocktail(cocktail);\n        openModalCocktail();\n      });\n    });\n    const buttonRemove = document.querySelectorAll('.button-remove');\n    buttonRemove.forEach(elem => {\n      // console.log(elem);\n      elem.addEventListener('click', removeFromFavorite);\n    });\n  } else {\n    const markupCocktails = `<li>\n    <p class=\"no__favorite-cocktails\">\n      You haven't added any <br />\n      favorite cocktails yet\n    </p>\n    </li>`;\n    gallery.innerHTML = markupCocktails;\n  }\n}\n\nconst removeFromFavorite = e => {\n  let favoriteCocktails = JSON.parse(localStorage.getItem(FAVORITE_KEY));\n  favoriteCocktails = favoriteCocktails.filter(\n    elem => elem.idDrink !== e.target.dataset.id\n  );\n  console.log(favoriteCocktails);\n  localStorage.setItem(FAVORITE_KEY, JSON.stringify(favoriteCocktails));\n  showAllCoctails(gallery);\n};\nshowAllCoctails(gallery);\n","import Render, { FAVORITE_KEY } from './render';\n\nconst modalCocktail = document.querySelector('.modal-cocktail');\nconst backdrop = document.querySelector('.backdrop');\nconst btnModalClose = document.querySelector('.modal-close');\nlet render = new Render();\n\nexport function openModalCocktail() {\n  backdrop.classList.remove('is-hidden');\n  btnModalClose.addEventListener('click', closeModalCocktail);\n  backdrop.addEventListener('click', onBackDropClick);\n  window.addEventListener('keydown', onEscClick);\n}\n\nexport function closeModalCocktail() {\n  backdrop.classList.add('is-hidden');\n  btnModalClose.removeEventListener('click', closeModalCocktail);\n  backdrop.removeEventListener('click', onBackDropClick);\n  window.removeEventListener('keydown', onEscClick);\n}\n\nfunction onBackDropClick(e) {\n  if (e.target === e.currentTarget) {\n    closeModalCocktail();\n  }\n}\n\nfunction onEscClick(e) {\n  if (e.code === 'Escape') {\n    closeModalCocktail();\n  }\n}\n\nexport function renderModalCocktail(cocktail) {\n  const entries = Object.entries(cocktail);\n  const ingridients = [];\n  entries.map(elem => {\n    if (elem[0].includes('strIngredient') && elem[1]) {\n      ingridients.push(elem[1]);\n    }\n  });\n  console.log(ingridients);\n  const ingidientsMarkup = ingridients\n    .map(\n      ingridient =>\n        `<li class=\"ingredients__item\">\n      <a href=\"\" class=\"ingredients__link\">\n        ${ingridient}\n      </a>\n    </li>`\n    )\n    .join('');\n\n  const { strDrink, strDrinkThumb, idDrink, strInstructions } = cocktail;\n  const markup = `<div class=\"cocktails-info\">\n              <img class=\"cocktails-info\" src=\"${strDrinkThumb}\" alt=\"#\" width=\"320\" height=\"320\">\n              <h2 class=\"cocktails-info__title\">Negroni</h2>\n              <div class=\"ingredients\">\n                  <h3 class=\"ingredients__title\">Ingredients</h3>\n                  <p class=\"ingredients__text\">Per cocktail</p>\n                  <ul class=\"ingredients__list\">\n                    ${ingidientsMarkup}  \n                  </ul>\n              </div>\n          </div>\n          <div class=\"instruction\">\n              <h3 class=\"instruction__title\">Instructions:</h3>\n              <p class=\"instruction__text\">${strInstructions}</p>\n          </div>\n          <button class='button-remove' type=\"button\" data-id=\"${idDrink}\"></button>\n                `;\n\n  modalCocktail.innerHTML = markup;\n  updateButton();\n}\n\nfunction updateButton() {\n  const btnModalCocktail = document.querySelector('.button-remove');\n  console.log(render.cards);\n  btnModalCocktail.addEventListener('click', e => {\n    console.log(e.target.dataset.id);\n    addToFavorite(e.target.dataset.id);\n  });\n}\n\nfunction addToFavorite(id = '') {\n  let favorite = JSON.parse(localStorage.getItem(FAVORITE_KEY)) || [];\n  //   let favorite = dataLocalStorage ? JSON.parse(dataLocalStorage) : [];\n  // const card = this.cards.find(elem => elem.idDrink === id);\n  let cocktail =\n    favorite.find(elem => elem.idDrink === id) ||\n    render.cards.find(elem => elem.idDrink === id);\n  console.log(cocktail);\n  if (!cocktail) {\n    favorite.push(cocktail);\n  } else {\n    favorite = favorite.filter(elem => elem.idDrink !== id);\n  }\n  localStorage.setItem(FAVORITE_KEY, JSON.stringify(favorite));\n}\n"],"names":["$lF0Zg","parcelRequire","$49b1f33d8e49b46f$var$modalCocktail","document","querySelector","$49b1f33d8e49b46f$var$backdrop","$49b1f33d8e49b46f$var$btnModalClose","$49b1f33d8e49b46f$var$render","default","$49b1f33d8e49b46f$export$2409b4e58221c4d1","classList","add","removeEventListener","$49b1f33d8e49b46f$var$onBackDropClick","window","$49b1f33d8e49b46f$var$onEscClick","e","target","currentTarget","code","$49b1f33d8e49b46f$export$f67d69d0515e6396","cocktail","entries","Object","ingridients","map","elem","includes","push","console","log","btnModalCocktail","ingidientsMarkup","ingridient","concat","join","strDrinkThumb","strDrink","idDrink","strInstructions","markup","innerHTML","cards","addEventListener","dataset","id","arguments","length","favorite","JSON","parse","localStorage","getItem","FAVORITE_KEY","find","filter","setItem","stringify","$49b1f33d8e49b46f$var$addToFavorite","$8594b32f57d532e3$var$gallery","$8594b32f57d532e3$export$1fe49417ecbe7237","gallery1","favoriteCocktails","markupCocktails","param","strIngredient","querySelectorAll","forEach","elem1","remove","$8594b32f57d532e3$var$removeFromFavorite"],"version":3,"file":"favorite-cocktails.e979934d.js.map"}