{"mappings":"gfACA,IAAAA,EAAAC,EAAA,SCDMC,EAAgBC,SAASC,cAAc,mBACvCC,EAAWF,SAASC,cAAc,aAClCE,EAAgBH,SAASC,cAAc,gBAStC,SAASG,IACdF,EAASG,UAAUC,IAAI,aACvBH,EAAcI,oBAAoB,QAASH,GAC3CF,EAASK,oBAAoB,QAASC,GACtCC,OAAOF,oBAAoB,UAAWG,E,CAGxC,SAASF,EAAgBG,GACnBA,EAAEC,SAAWD,EAAEE,eACjBT,G,CAIJ,SAASM,EAAWC,GACH,WAAXA,EAAEG,MACJV,G,CAIG,SAASW,EAAoBC,GAClC,IAAMC,EAAUC,OAAOD,QAAQD,GACzBG,EAAc,GACpBF,EAAQG,KAAI,SAAAC,GACNA,EAAK,GAAGC,SAAS,kBAAoBD,EAAK,IAC5CF,EAAYI,KAAKF,EAAK,G,IAG1BG,QAAQC,IAAIN,GACZ,IAAMO,EAAmBP,EACtBC,KACC,SAAAO,G,MACE,wFAEaC,OAAXD,EAAW,0B,IAIhBE,KAAK,IAEUC,GAA4Cd,EAAtDe,SAAsDf,EAA5Cc,eAAwBE,GAAoBhB,EAA7BiB,QAA6BjB,EAApBgB,iBACpCE,EAAS,gFAOKN,OAN2BE,EAAc,0VAYlBF,OANvBF,EAAiB,0NAMsBE,OAAhBI,EAAgB,+GAK3DjC,EAAcoC,UAAYD,C,CDlE5B,IAAME,EAAUpC,SAASC,cAAc,YACTD,SAASC,cACrC,8BAWK,SAASoC,EAAgBC,GAC9B,IAAIC,EAAoBC,KAAKC,MAAMC,aAAaC,QAAQ9C,EAAA+C,gBAAkB,GAG1E,GAAIF,aAAaC,QAAQ9C,EAAA+C,eAAiBL,EAAkBM,OAAS,EAAG,CACtE,IAAMC,EAAkBP,EACrBnB,KAAI,SAAA2B,G,IAAGhB,EAAQgB,EAARhB,SAAUD,EAAaiB,EAAbjB,cAAeG,EAAOc,EAAPd,QAAsBc,EAAbC,cAExC,MAAO,kFAC2DpB,OAAvBE,EAAc,WACnBF,OAD4BG,EAAS,0DAINH,OAH/BG,EAAS,+KAOoBH,OAJEK,EAAQ,wMAIFL,OAARK,EAAQ,gI,IAM5EJ,KAAK,IACRS,EAAQH,UAAYW,EAED9C,SAASiD,iBAAiB,gBAClCC,SAAQ,SAAAC,GACjB3B,QAAQC,IAAI0B,GACZA,EAAKC,iBAAiB,SAAS,SAAAzC,GAC7B,IAAIK,EAAWuB,EAAkBc,MAC/B,SAAAhC,G,OAAQA,EAAKY,UAAYtB,EAAEC,OAAO0C,QAAQC,E,IAE5C/B,QAAQC,IAAIT,GACZD,EAAoBC,GC7C1Bd,EAASG,UAAUmD,OAAO,aAC1BrD,EAAciD,iBAAiB,QAAShD,GACxCF,EAASkD,iBAAiB,QAAS5C,GACnCC,OAAO2C,iBAAiB,UAAW1C,E,OD8CZV,SAASiD,iBAAiB,kBAClCC,SAAQ,SAAA7B,GACnBG,QAAQC,IAAIJ,GACZA,EAAK+B,iBAAiB,QAASK,E,QAE5B,CAOLnB,EAAQH,UANiB,sI,EAU7B,IAAMsB,EAAqB,SAAA9C,GACzB,IAAI4B,EAAoBC,KAAKC,MAAMC,aAAaC,QAAQ9C,EAAA+C,eACxDL,EAAoBA,EAAkBmB,QACpC,SAAArC,G,OAAQA,EAAKY,UAAYtB,EAAEC,OAAO0C,QAAQC,E,IAE5C/B,QAAQC,IAAIc,GACZG,aAAaiB,QAAQ9D,EAAA+C,aAAcJ,KAAKoB,UAAUrB,IAClDF,EAAgBD,E,EAElBC,EAAgBD,E","sources":["src/js/favoritecocktails.js","src/js/modalcocktail.js"],"sourcesContent":["// import ApiService from './apiservice';\nimport Render, { FAVORITE_KEY } from './render';\nimport { openModalCocktail, renderModalCocktail } from './modalcocktail';\nconst gallery = document.querySelector('.gallery');\nconst galleryCocktailsTitle = document.querySelector(\n  '.favorite-cocktails__title'\n);\n// const buttonMore = document.querySelector('.button-more');\n// let apiService = new ApiService();\n// let render = new Render();\n\n// apiService.getCocktailRandom(3).then(data => {\n//   localStorage.setItem(FAVORITE_KEY, JSON.stringify(data));\n//   showAllCoctails(gallery); // удалить до пуша\n// });\n\nexport function showAllCoctails(gallery) {\n  let favoriteCocktails = JSON.parse(localStorage.getItem(FAVORITE_KEY)) || [];\n  // console.log(favoriteCocktails);\n\n  if (localStorage.getItem(FAVORITE_KEY) && favoriteCocktails.length > 0) {\n    const markupCocktails = favoriteCocktails\n      .map(({ strDrink, strDrinkThumb, idDrink, strIngredient }) => {\n        // console.log(strIngredient);\n        return `<li class=\"cocktails__item\">\n                <img class=\"cocktails__img\" src=\"${strDrinkThumb}\" alt=\"${strDrink} photo\">\n                <h3 class=\"cocktails__name\">${strDrink}</h3>\n                <ul class=\"button-list\">\n                    <li class=\"button__item\">\n                        <button class=\"button-more\" type=\"button\" data-id=\"${idDrink}\">Learn more\n                        </button>\n                    </li>\n                  <li class=\"button__item\">\n                    <button class='button-remove' type=\"button\" data-id=\"${idDrink}\" data-action=\"favorite\">Remove</button>\n                  </li>\n                </ul>\n              </li>\n              `;\n      })\n      .join('');\n    gallery.innerHTML = markupCocktails;\n\n    const buttonMore = document.querySelectorAll('.button-more');\n    buttonMore.forEach(elem => {\n      console.log(elem);\n      elem.addEventListener('click', e => {\n        let cocktail = favoriteCocktails.find(\n          elem => elem.idDrink === e.target.dataset.id\n        );\n        console.log(cocktail);\n        renderModalCocktail(cocktail);\n        openModalCocktail();\n      });\n    });\n    const buttonRemove = document.querySelectorAll('.button-remove');\n    buttonRemove.forEach(elem => {\n      console.log(elem);\n      elem.addEventListener('click', removeFromFavorite);\n    });\n  } else {\n    const markupCocktails = `<li>\n    <p class=\"no__favorite-cocktails\">\n      You haven't added any <br />\n      favorite cocktails yet\n    </p>\n    </li>`;\n    gallery.innerHTML = markupCocktails;\n  }\n}\n\nconst removeFromFavorite = e => {\n  let favoriteCocktails = JSON.parse(localStorage.getItem(FAVORITE_KEY));\n  favoriteCocktails = favoriteCocktails.filter(\n    elem => elem.idDrink !== e.target.dataset.id\n  );\n  console.log(favoriteCocktails);\n  localStorage.setItem(FAVORITE_KEY, JSON.stringify(favoriteCocktails));\n  showAllCoctails(gallery);\n};\nshowAllCoctails(gallery);\n","const modalCocktail = document.querySelector('.modal-cocktail');\nconst backdrop = document.querySelector('.backdrop');\nconst btnModalClose = document.querySelector('.modal-close');\n\nexport function openModalCocktail() {\n  backdrop.classList.remove('is-hidden');\n  btnModalClose.addEventListener('click', closeModalCocktail);\n  backdrop.addEventListener('click', onBackDropClick);\n  window.addEventListener('keydown', onEscClick);\n}\n\nexport function closeModalCocktail() {\n  backdrop.classList.add('is-hidden');\n  btnModalClose.removeEventListener('click', closeModalCocktail);\n  backdrop.removeEventListener('click', onBackDropClick);\n  window.removeEventListener('keydown', onEscClick);\n}\n\nfunction onBackDropClick(e) {\n  if (e.target === e.currentTarget) {\n    closeModalCocktail();\n  }\n}\n\nfunction onEscClick(e) {\n  if (e.code === 'Escape') {\n    closeModalCocktail();\n  }\n}\n\nexport function renderModalCocktail(cocktail) {\n  const entries = Object.entries(cocktail);\n  const ingridients = [];\n  entries.map(elem => {\n    if (elem[0].includes('strIngredient') && elem[1]) {\n      ingridients.push(elem[1]);\n    }\n  });\n  console.log(ingridients);\n  const ingidientsMarkup = ingridients\n    .map(\n      ingridient =>\n        `<li class=\"ingredients__item\">\n      <a href=\"\" class=\"ingredients__link\">\n        ${ingridient}\n      </a>\n    </li>`\n    )\n    .join('');\n\n  const { strDrink, strDrinkThumb, idDrink, strInstructions } = cocktail;\n  const markup = `<div class=\"cocktails-info\">\n              <img class=\"cocktails-info\" src=\"${strDrinkThumb}\" alt=\"#\" width=\"320\" height=\"320\">\n              <h2 class=\"cocktails-info__title\">Negroni</h2>\n              <div class=\"ingredients\">\n                  <h3 class=\"ingredients__title\">Ingredients</h3>\n                  <p class=\"ingredients__text\">Per cocktail</p>\n                  <ul class=\"ingredients__list\">\n                    ${ingidientsMarkup}  \n                  </ul>\n              </div>\n          </div>\n          <div class=\"instruction\">\n              <h3 class=\"instruction__title\">Instructions:</h3>\n              <p class=\"instruction__text\">${strInstructions}</p>\n          </div>\n          <button class='button-remove' type=\"button\"></button>\n                `;\n\n  modalCocktail.innerHTML = markup;\n}\n"],"names":["$lF0Zg","parcelRequire","$49b1f33d8e49b46f$var$modalCocktail","document","querySelector","$49b1f33d8e49b46f$var$backdrop","$49b1f33d8e49b46f$var$btnModalClose","$49b1f33d8e49b46f$export$2409b4e58221c4d1","classList","add","removeEventListener","$49b1f33d8e49b46f$var$onBackDropClick","window","$49b1f33d8e49b46f$var$onEscClick","e","target","currentTarget","code","$49b1f33d8e49b46f$export$f67d69d0515e6396","cocktail","entries","Object","ingridients","map","elem","includes","push","console","log","ingidientsMarkup","ingridient","concat","join","strDrinkThumb","strDrink","strInstructions","idDrink","markup","innerHTML","$8594b32f57d532e3$var$gallery","$8594b32f57d532e3$export$1fe49417ecbe7237","gallery1","favoriteCocktails","JSON","parse","localStorage","getItem","FAVORITE_KEY","length","markupCocktails","param","strIngredient","querySelectorAll","forEach","elem1","addEventListener","find","dataset","id","remove","$8594b32f57d532e3$var$removeFromFavorite","filter","setItem","stringify"],"version":3,"file":"favorite-cocktails.ad4b0b41.js.map"}