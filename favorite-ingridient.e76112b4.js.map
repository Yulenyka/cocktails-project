{"mappings":"oeACA,IAAAA,EAAAC,EAAA,S,aAEA,MAAMC,EAAUC,SAASC,cAAc,6BAEhC,SAASC,EAAgBC,GAC9B,IAAIC,EAAoBC,KAAKC,MAAMC,aAAaC,QAAQX,EAAAY,gBAAkB,GAG1E,GAAIF,aAAaC,QAAQX,EAAAY,eAAiBL,EAAkBM,OAAS,EAAG,CACtE,MAAMC,EAAkBP,EACrBQ,KAAI,EAACC,SAAEA,EAAQC,cAAEA,EAAaC,QAAEA,KAExB,kFACoCD,WAAuBD,2DAC5BA,+KAG+BE,sMAIFA,mHAKpEC,KAAK,IACRb,EAAQc,UAAYN,EAEDX,SAASkB,iBAAiB,gBAClCC,SAAQC,IAEjBA,EAAKC,iBAAiB,SAASC,IAC7B,IAAIC,EAAWnB,EAAkBoB,MAC/BC,GAAQA,EAAKV,UAAYO,EAAEI,OAAOC,QAAQC,MAG5C,EAAAC,EAAAC,qBAAoBP,IACpB,EAAAM,EAAAE,oBAAmB,GACnB,IAEiB/B,SAASkB,iBAAiB,kBAClCC,SAAQM,IAEnBA,EAAKJ,iBAAiB,QAASW,EAAmB,G,KAE/C,CACL,MAAMrB,EAAkB,uIAMxBR,EAAQc,UAAYN,C,EAIxB,MAAMqB,EAAqBV,IACzB,IAAIlB,EAAoBC,KAAKC,MAAMC,aAAaC,QAAQX,EAAAY,eACxDL,EAAoBA,EAAkB6B,QACpCR,GAAQA,EAAKV,UAAYO,EAAEI,OAAOC,QAAQC,KAE5CM,QAAQC,IAAI/B,GACZG,aAAa6B,QAAQvC,EAAAY,aAAcJ,KAAKgC,UAAUjC,IAClDF,EAAgBH,EAAQ,EAE1BG,EAAgBH","sources":["src/js/favoritecocktails.js"],"sourcesContent":["// import ApiService from './apiservice';\nimport { FAVORITE_KEY } from './render';\nimport { openModalCocktail, renderModalCocktail } from './modalcocktail';\nconst gallery = document.querySelector('.favorite-cocktails__list');\n\nexport function showAllCoctails(gallery) {\n  let favoriteCocktails = JSON.parse(localStorage.getItem(FAVORITE_KEY)) || [];\n  // console.log(favoriteCocktails);\n\n  if (localStorage.getItem(FAVORITE_KEY) && favoriteCocktails.length > 0) {\n    const markupCocktails = favoriteCocktails\n      .map(({ strDrink, strDrinkThumb, idDrink }) => {\n        // console.log(strIngredient);\n        return `<li class=\"cocktails__item\">\n                <img class=\"cocktails__img\" src=\"${strDrinkThumb}\" alt=\"${strDrink} photo\"/>\n                <h3 class=\"cocktails__name\">${strDrink}</h3>\n                <ul class=\"button-list\">\n                    <li class=\"button__item\">\n                        <button class=\"button-more\" type=\"button\" data-id=\"${idDrink}\">Learn more\n                        </button>\n                    </li>\n                  <li class=\"button__item\">\n                    <button class='button-remove' type=\"button\" data-id=\"${idDrink}\" data-action=\"favorite\">Remove</button>\n                  </li>\n                </ul>\n              </li>`;\n      })\n      .join('');\n    gallery.innerHTML = markupCocktails;\n\n    const buttonMore = document.querySelectorAll('.button-more');\n    buttonMore.forEach(elem => {\n      // console.log(elem);\n      elem.addEventListener('click', e => {\n        let cocktail = favoriteCocktails.find(\n          elem => elem.idDrink === e.target.dataset.id\n        );\n        // console.log(cocktail);\n        renderModalCocktail(cocktail);\n        openModalCocktail();\n      });\n    });\n    const buttonRemove = document.querySelectorAll('.button-remove');\n    buttonRemove.forEach(elem => {\n      // console.log(elem);\n      elem.addEventListener('click', removeFromFavorite);\n    });\n  } else {\n    const markupCocktails = `<li>\n    <p class=\"no__favorite-cocktails\">\n      You haven't added any <br />\n      favorite cocktails yet\n    </p>\n    </li>`;\n    gallery.innerHTML = markupCocktails;\n  }\n}\n\nconst removeFromFavorite = e => {\n  let favoriteCocktails = JSON.parse(localStorage.getItem(FAVORITE_KEY));\n  favoriteCocktails = favoriteCocktails.filter(\n    elem => elem.idDrink !== e.target.dataset.id\n  );\n  console.log(favoriteCocktails);\n  localStorage.setItem(FAVORITE_KEY, JSON.stringify(favoriteCocktails));\n  showAllCoctails(gallery);\n};\nshowAllCoctails(gallery);\n"],"names":["$1dkLo","parcelRequire","$51c9c420843a166b$var$gallery","document","querySelector","$51c9c420843a166b$export$1fe49417ecbe7237","gallery1","favoriteCocktails","JSON","parse","localStorage","getItem","FAVORITE_KEY","length","markupCocktails","map","strDrink","strDrinkThumb","idDrink","join","innerHTML","querySelectorAll","forEach","elem1","addEventListener","e","cocktail","find","elem","target","dataset","id","$2Xd5d","renderModalCocktail","openModalCocktail","$51c9c420843a166b$var$removeFromFavorite","filter","console","log","setItem","stringify"],"version":3,"file":"favorite-ingridient.e76112b4.js.map"}