{"mappings":"oeACA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAUC,SAASC,cAAc,YACTD,SAASC,cACrC,8BAWK,SAASC,EAAgBC,GAC9B,IAAIC,EAAoBC,KAAKC,MAAMC,aAAaC,QAAQX,EAAAY,gBAAkB,GAG1E,GAFAC,QAAQC,IAAIP,GAERG,aAAaC,QAAQX,EAAAY,eAAiBL,EAAkBQ,OAAS,EAAG,CACtE,MAAMC,EAAkBT,EACrBU,KAAI,EAACC,SAAEA,EAAQC,cAAEA,EAAaC,QAAEA,EAAOC,cAAEA,MACxCR,QAAQC,IAAIO,GACL,kFACoCF,WAAuBD,0DAC5BA,sWAO6BE,oIAMpEE,KAAK,IACRhB,EAAQiB,UAAYP,EAECb,SAASqB,iBAAiB,kBAClCC,SAAQC,IACnBb,QAAQC,IAAIY,GACZA,EAAKC,iBAAiB,QAASC,EAAmB,G,KAE/C,CACL,MAAMZ,EAAkB,uIAMxBV,EAAQiB,UAAYP,C,EAIxB,MAAMY,EAAqBC,IACzB,IAAItB,EAAoBC,KAAKC,MAAMC,aAAaC,QAAQX,EAAAY,eACxDL,EAAoBA,EAAkBuB,QACpCJ,GAAQA,EAAKN,UAAYS,EAAEE,OAAOC,QAAQC,KAE5CpB,QAAQC,IAAIP,GACZG,aAAawB,QAAQlC,EAAAY,aAAcJ,KAAK2B,UAAU5B,IAClDF,EAAgBH,EAAQ,EAE1BG,EAAgBH","sources":["src/js/favoritecocktails.js"],"sourcesContent":["// import ApiService from './apiservice';\nimport Render, { FAVORITE_KEY } from './render';\nconst gallery = document.querySelector('.gallery');\nconst galleryCocktailsTitle = document.querySelector(\n  '.favorite-cocktails__title'\n);\n// const buttonMore = document.querySelector('.button-more');\n// let apiService = new ApiService();\n// let render = new Render();\n\n// apiService.getCocktailRandom(3).then(data => {\n//   localStorage.setItem(FAVORITE_KEY, JSON.stringify(data));\n//   showAllCoctails(gallery); // удалить до пуша\n// });\n\nexport function showAllCoctails(gallery) {\n  let favoriteCocktails = JSON.parse(localStorage.getItem(FAVORITE_KEY)) || [];\n  console.log(favoriteCocktails);\n\n  if (localStorage.getItem(FAVORITE_KEY) && favoriteCocktails.length > 0) {\n    const markupCocktails = favoriteCocktails\n      .map(({ strDrink, strDrinkThumb, idDrink, strIngredient }) => {\n        console.log(strIngredient);\n        return `<li class=\"cocktails__item\">\n                <img class=\"cocktails__img\" src=\"${strDrinkThumb}\" alt=\"${strDrink} photo\">\n                <h3 class=\"cocktails__name\">${strDrink}</h3>\n                <ul class=\"button-list\">\n                    <li class=\"button__item\">\n                        <button class=\"button-more\" type=\"submit\">Learn more\n                        </button>\n                    </li>\n                  <li class=\"button__item\">\n                    <button class='button-remove' type=\"button\" data-id=\"${idDrink}\" data-action=\"favorite\">Remove</button>\n                  </li>\n                </ul>\n              </li>\n              `;\n      })\n      .join('');\n    gallery.innerHTML = markupCocktails;\n\n    const buttonRemove = document.querySelectorAll('.button-remove');\n    buttonRemove.forEach(elem => {\n      console.log(elem);\n      elem.addEventListener('click', removeFromFavorite);\n    });\n  } else {\n    const markupCocktails = `<li>\n    <p class=\"no__favorite-cocktails\">\n      You haven't added any <br />\n      favorite cocktails yet\n    </p>\n    </li>`;\n    gallery.innerHTML = markupCocktails;\n  }\n}\n\nconst removeFromFavorite = e => {\n  let favoriteCocktails = JSON.parse(localStorage.getItem(FAVORITE_KEY));\n  favoriteCocktails = favoriteCocktails.filter(\n    elem => elem.idDrink !== e.target.dataset.id\n  );\n  console.log(favoriteCocktails);\n  localStorage.setItem(FAVORITE_KEY, JSON.stringify(favoriteCocktails));\n  showAllCoctails(gallery);\n};\nshowAllCoctails(gallery);\n"],"names":["$1dkLo","parcelRequire","$51c9c420843a166b$var$gallery","document","querySelector","$51c9c420843a166b$export$1fe49417ecbe7237","gallery1","favoriteCocktails","JSON","parse","localStorage","getItem","FAVORITE_KEY","console","log","length","markupCocktails","map","strDrink","strDrinkThumb","idDrink","strIngredient","join","innerHTML","querySelectorAll","forEach","elem","addEventListener","$51c9c420843a166b$var$removeFromFavorite","e","filter","target","dataset","id","setItem","stringify"],"version":3,"file":"favorite-cocktails.930c6109.js.map"}